<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Task-8</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        body {
            padding-top: 10px;
        }

        .form-container {
            max-width: 600px;
            margin: auto;
            padding: 20px;
            border: 1px solid whitesmoke;
            border-radius: 5px;
            background-color: yellowgreen;
        }

        h2 {
            text-align: center;
            color: navy;
            margin-bottom: 20px;
        }

        .password-strength {
            text-align: center;
            margin-top: 5px;
        }

        .strength-weak {
            color: red;
        }

        .strength-good {
            color: orange;
        }

        .strength-strong {
            color: green;
        }
    </style>
</head>

<body>
    <div class="container my-5">
        <form class="form-container" id="registrationForm">
            <h2>Registration form</h2>
            <div class="row mb-3">
                <label for="fname" class="col-sm-4 col-form-label">First Name:</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="fname" name="fname" required>
                </div>
            </div>
            <div class="row mb-3">
                <label for="lname" class="col-sm-4 col-form-label">Last Name:</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="lname" name="lname" required>
                </div>
            </div>
            <div class="row mb-3">
                <label for="email" class="col-sm-4 col-form-label">Email:</label>
                <div class="col-sm-8">
                    <input type="email" class="form-control" id="email" name="email" required>
                </div>
            </div>
            <div class="row mb-3">
                <label for="password" class="col-sm-4 col-form-label">Password:</label>
                <div class="col-sm-8">
                    <input type="password" class="form-control" id="password" name="password" required>
                    <div id="passwordStrength" class="password-strength"></div>
                </div>
            </div>
            <div class="row mb-3">
                <label for="repassword" class="col-sm-4 col-form-label">Re-enter Password:</label>
                <div class="col-sm-8">
                    <input type="password" class="form-control" id="repassword" name="repassword" required>
                </div>
            </div>
            <div class="row mb-3">
                <label for="gender" class="col-sm-4 col-form-label">Gender:</label>
                <div class="col-sm-8">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="male" name="gender" value="male" required>
                        <label class="form-check-label" for="male">Male</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" id="female" name="gender" value="female" required>
                        <label class="form-check-label" for="female">Female</label>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <label for="age" class="col-sm-4 col-form-label">Age:</label>
                <div class="col-sm-8">
                    <input type="number" class="form-control" id="age" name="age" required>
                </div>
            </div>
            <div class="row mb-3">
                <label for="phone" class="col-sm-4 col-form-label">Phone Number:</label>
                <div class="col-sm-8">
                    <input type="tel" class="form-control" id="phone" name="phone" pattern="[0-9]{10}" required>
                </div>
            </div>
            <div class="row mb-3">
                <label for="address" class="col-sm-4 col-form-label">Address:</label>
                <div class="col-sm-8">
                    <textarea class="form-control" id="address" name="address" required></textarea>
                </div>
            </div>
            <div class="row mb-3">
                <label for="state" class="col-sm-4 col-form-label">State:</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="state" name="state" required>
                </div>
            </div>
            <div class="row mb-3">
                <label for="country" class="col-sm-4 col-form-label">Country:</label>
                <div class="col-sm-8">
                    <select class="form-control" id="country" name="country" required>
                        <option value="">Choose your country</option>
                        <option value="India">India</option>
                        <option value="USA">USA</option>
                        <option value="France">France</option>
                        <option value="Australia">Australia</option>
                        <option value="Brazil">Brazil</option>
                        <option value="South Africa">South Africa</option>
                    </select>
                </div>
            </div>
            <div class="row mb-3">
                <label for="languages" class="col-sm-4 col-form-label">Languages known:</label>
                <div class="col-sm-8">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="english" name="language" value="english">
                        <label class="form-check-label" for="english">English</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="kannada" name="language" value="kannada">
                        <label class="form-check-label" for="kannada">Kannada</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="hindi" name="language" value="hindi">
                        <label class="form-check-label" for="hindi">Hindi</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="telugu" name="language" value="telugu">
                        <label class="form-check-label" for="telugu">Telugu</label>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="text-center">
                    <div class="text-center">
                        <input type="checkbox" class="form-check-input" id="declaration" name="declaration" required>
                        <label class="form-check-label" for="declaration">Hereby I declare all the given details are true</label>
                    </div>
                </div>
            </div>
            <p class="text-center">Login to <a href="http://ethnus.com">Ethnus</a> website</p>
            <div class="text-center">
                <button type="submit" class="btn btn-danger btn-block rounded-pill">Submit</button>
            </div>
        </form>
    </div>

    <script>
        function checkPasswordStrength(password) {
            let strength = 0;
            if (password.length >= 8) {
                strength += 1;
            }
            if (password.match(/[a-z]+/)) {
                strength += 1;
            }
            if (password.match(/[A-Z]+/)) {
                strength += 1;
            }
            if (password.match(/[0-9]+/)) {
                strength += 1;
            }
            if (password.match(/[\W_]+/)) {
                strength += 1;
            }

            return strength;
        }

        document.getElementById("password").addEventListener("input", function () {
            const password = this.value;
            const strength = checkPasswordStrength(password);
            const strengthDiv = document.getElementById("passwordStrength");

            if (strength < 2) {
                strengthDiv.textContent = "Weak";
                strengthDiv.className = "password-strength strength-weak";
            } else if (strength < 4) {
                strengthDiv.textContent = "Good";
                strengthDiv.className = "password-strength strength-good";
            } else {
                strengthDiv.textContent = "Strong";
                strengthDiv.className = "password-strength strength-strong";
            }
        });

        document.getElementById("registrationForm").addEventListener("submit", function (event) {
            let valid = true;
            const form = event.target;

            const password = form.password.value;
            const repassword = form.repassword.value;
            if (password !== repassword) {
                valid = false;
                alert("Passwords do not match");
            }

            const strength = checkPasswordStrength(password);
            if (strength < 2) {
                valid = false;
                alert("Password is too weak. Please use a stronger password.");
            }

            const phone = form.phone.value;
            const phonePattern = /^[0-9]{10}$/;
            if (!phonePattern.test(phone)) {
                valid = false;
                alert("Phone number must be 10 digits");
            }

            const declaration = form.declaration.checked;
            if (!declaration) {
                valid = false;
                alert("You must declare that the given details are true");
            }

            const requiredFields = ["fname", "lname", "email", "age", "address", "state", "country"];
            requiredFields.forEach(field => {
                if (!form[field].value) {
                    valid = false;
                    alert(`Please fill out the ${field} field`);
                }
            });

            if (!valid) {
                event.preventDefault();
            }
        });
    </script>
</body>

</html>
